<!DOCTYPE html>
<html>
<meta type-equiv="Content-Type" content="text/html; charset=utf-8">
<head>
    <title>AlphaGo</title>
    <link rel="stylesheet" type="text/css" href="css/style.css">
</head>
<body>
    <div class="top-nav">
        <ul>
            <li class="logo left"></li>
            <li class="left here nav-on"><a href="#">Home</a></li>
            <li class="left"><a href="rule.html">Rules</a></li>
            <li class="left"><a href="team.html">Team</a></li>
            <li class="left"><a href="playGameLocal.html">Play Game</a></li>
            <div class="right sign-nav">
                <form id="" class="">
                    <input placeholder="User Name" type="text" name="userName">&nbsp;
                    <input placeholder="Password" type="password" name="pw">
                    <button style='background: url("img/signin-nav.png")'></button>
                </form>
            </div>
        </ul>
    </div><br/>
    <div class="canvas fc-b" onload="init()">
		<div id="result">
		</div>
	</div>
	<div class="top-nav">
		<ul>
			<li class="left"><button id="start">START</button></li>
			<li class="left"><button id="move">move</button></li>
			<li class="left"><button id="pass">pass</button></li>
		</ul>
</body>
<script type="text/javascript" src="js/jquery-2.2.2.min.js"></script>
<script type="text/javascript" src="js/style.js"></script>
<script type="text/javascript">
$(document).ready(function(){
	console.log("ready.");
	$("#start").click(function(){
		$.post(
			"/match/startHotSeat",
			{ "boardSize" : 9 },
			function(data){
				window.location.href=("/index.html?gameID="+data);
				console.log("got data.:\n\t"+data);
				poll();
			}
		);
	});
	$("#move").click(function(){
		$("#result").text("move");
	});
	$("#pass").click(function(){
		$("#result").text("pass");
	});
});

function pollData(){
	setTimeout(function(){
		var gameID = window.location.href.split("?gameID=")[1];
		if(gameID){
			$.ajax({
			url: "/game/"+gameID,
			success: function(data){
				$("#result").text(JSON.stringify(data));
				pollData();
			},
			dataType: "json"});
		}
	}, 4000);
}

pollData();
</script>
</html>
